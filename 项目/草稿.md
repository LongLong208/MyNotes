<br>
<br>
<br>
<br>
<br>


客户端
```puml
class GameDefine {
    + screenResolution : QSize
}

class GameControl <<singleton>> {
    - runner : GameRunner*
    - gameDefine : GameDefine*

    - GameControl(QWidget*)
    + getInstance()
}

interface GameRunner {
    + send()
    + receive()
}

class SingleModeRunner {
}

class MultiModeRunner{
    - network : NetworkControl*

}

interface NetworkControl {
    + connect()
    + send()
    + receive()
}

class Widget {
    - player : Player*
    - gameObjects : QMap<QString, GameObject*> 
    - gameView : GameView
    - gameScene : GameScene*
    - gameControl : GameControl*

    + keyboard_event()
    + mouse_event()
}

class GameView {
    + mouse_event() -> QWidget::mouse_event()
}

class GameScene {
    + addItem()
    + removeItem()
    + items() : QList<GameObject*>
    + init()
}

interface GameObject {

}

class Bullet {
    + BulletType
}

class Plane {

}

class Player {

}

class Enemy {

}


class GameObjectPool {
    + GameObject* get()
    + void recovery()
}

interface GameRunnerFactory {
    + create() : GameRunner
}

interface GameObjectFactory{
    + create() : GameObject
}

GameRunnerFactory -> GameRunner

GameControl --o Widget

GameRunner -* GameControl
GameControl *- GameDefine

GameRunner <|.. SingleModeRunner
GameRunner <|.. MultiModeRunner

MultiModeRunner *-- NetworkControl

GameObject <|.. Plane
Plane <|-- Player
GameObject <|.. Bullet


GameScene - GameObject
GameScene -- GameView
Widget o- GameScene
GameObjectPool -- GameObject

Widget *- GameView
Plane <|-- Enemy



GameObjectFactory --> GameObject

```



```ditaa {cmd args=["-E"]}

+------------------+                            +------------------+
|GameMenuScene     |                            |GameStartScene    |
|                  |                            |                  |
|                  |                            |                  |
|                  |                            |                  |
|                  |                            |                  |
|                  |                            |                  |
|                  |                            |                  |
|           +------|---> Widget.startGame ----> |                  |
|           |      |                            |                  |
|   +-------+--+   |                            |                  |
|   |start Game|   |                            |                  |
|   +----------+   |                            |                  |
|                  |                            |                  |
|                  |                            |                  |
|  c888            |                            |  c888            |
+------------------+                            +------------------+
       ^                                                ^
       |                                                |
       +-- oldScene                         gameScene --+
```
